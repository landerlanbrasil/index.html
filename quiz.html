<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personalize seu Plano | Team Feij√£o</title>
    <style>
        :root {
            --primary-color: #FF0000;
            --bg-color: #FFFFFF;
            --text-color: #111111;
            --secondary-text: #666666;
            --card-bg: #F8F8F8;
            --card-border: #E0E0E0;
            --card-hover: #FFF0F0;
            --btn-hover: #D90000;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- Header --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            background: #fff;
            position: relative;
            z-index: 10;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .back-btn {
            font-size: 24px;
            cursor: pointer;
            color: #333;
            width: 24px;
            visibility: hidden;
        }

        .logo {
            font-weight: 800;
            font-size: 18px;
            text-transform: uppercase;
            letter-spacing: -0.5px;
            color: #000;
        }

        .step-counter {
            font-size: 14px;
            color: var(--secondary-text);
            font-weight: 600;
        }

        /* --- Progress Bar --- */
        .progress-container {
            width: 100%;
            height: 4px;
            background-color: #EFEFEF;
        }

        .progress-bar {
            width: 0%;
            height: 100%;
            background-color: var(--primary-color);
            transition: width 0.3s ease;
        }

        /* --- Main Content --- */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px 20px;
            max-width: 500px;
            margin: 0 auto;
            width: 100%;
        }

        .step-content {
            display: none;
            width: 100%;
            animation: fadeIn 0.4s ease;
        }

        .step-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: 26px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 10px;
            line-height: 1.2;
        }

        p.subtitle {
            font-size: 15px;
            color: var(--secondary-text);
            text-align: center;
            margin-bottom: 30px;
        }

        /* --- Cards e Grids --- */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            width: 100%;
        }

        .grid-2-col {
            grid-template-columns: 1fr 1fr;
        }

        .option-card {
            background-color: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .card-vertical {
            flex-direction: column;
            text-align: center;
            justify-content: center;
            padding: 25px 15px;
        }

        .option-card:hover {
            border-color: #ffcccc;
            background-color: var(--card-hover);
        }

        .option-card.selected {
            border-color: var(--primary-color);
            background-color: #FFF0F0;
        }
        
        .option-card.selected::after {
            content: '‚úì';
            color: var(--primary-color);
            font-weight: bold;
            font-size: 20px;
            position: absolute;
            top: 10px;
            right: 10px;
        }
        
        .option-card:not(.card-vertical).selected::after {
            top: 50%;
            transform: translateY(-50%);
            right: 20px;
        }

        .option-card.selected .arrow-icon { display: none; }
        .option-text strong { display: block; font-size: 17px; margin-bottom: 4px; }
        .option-text span { font-size: 13px; color: #666; }

        .body-figure {
            height: 100px;
            width: 100%;
            margin-bottom: 10px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }
        .body-figure svg {
            height: 100%;
            fill: #ddd; 
            transition: fill 0.2s;
        }
        .option-card:hover .body-figure svg { fill: #ff9999; }
        .option-card.selected .body-figure svg { fill: var(--primary-color); }

        .input-group { margin-bottom: 20px; width: 100%; }
        .input-group label { display: block; font-weight: 700; margin-bottom: 8px; color: #333; }
        .input-wrapper { position: relative; }
        .input-wrapper input {
            width: 100%; padding: 16px; font-size: 18px;
            border: 2px solid var(--card-border); border-radius: 12px; outline: none; transition: border 0.2s;
        }
        .input-wrapper input:focus { border-color: var(--primary-color); }
        .input-wrapper span { position: absolute; right: 16px; top: 50%; transform: translateY(-50%); color: #999; font-weight: 600; }

        .btn-continue {
            width: 100%; padding: 18px; background-color: var(--primary-color); color: white;
            border: none; border-radius: 12px; font-size: 18px; font-weight: 700;
            cursor: pointer; margin-top: 20px; transition: background 0.2s;
        }
        .btn-continue:hover { background-color: var(--btn-hover); }

        .body-type-icon { font-size: 24px; margin-right: 15px; }
        .gender-icon { font-size: 40px; margin-bottom: 10px; }

    </style>
</head>
<body>

    <header>
        <div class="back-btn" onclick="prevStep()">‚Üê</div>
        <div class="logo">TEAM FEIJ√ÉO</div>
        <div class="step-counter"><span id="current-step-num">1</span>/10</div>
    </header>

    <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
    </div>

    <main id="quiz-container">
        
        <div class="step-content active" id="step-1">
            <h1>Qual √© a sua idade?</h1>
            <p class="subtitle">Usamos isso para ajustar o n√≠vel de intensidade.</p>
            <div class="options-grid">
                <div class="option-card" onclick="selectSingle('Idade', '18-25 anos')">
                    <div class="option-text"><strong>18 - 25 anos</strong></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="selectSingle('Idade', '26-35 anos')">
                    <div class="option-text"><strong>26 - 35 anos</strong></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="selectSingle('Idade', '36-45 anos')">
                    <div class="option-text"><strong>36 - 45 anos</strong></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="selectSingle('Idade', '46-55 anos')">
                    <div class="option-text"><strong>46 - 55 anos</strong></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="selectSingle('Idade', 'Mais de 55')">
                    <div class="option-text"><strong>Mais de 55 anos</strong></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
            </div>
        </div>

        <div class="step-content" id="step-2">
            <h1>Qual √© o seu g√™nero?</h1>
            <p class="subtitle">Necess√°rio para calcular seu metabolismo basal.</p>
            <div class="options-grid grid-2-col">
                <div class="option-card card-vertical" onclick="selectSingle('G√™nero', 'Homem')">
                    <div class="gender-icon">üë®</div>
                    <div class="option-text"><strong>Homem</strong></div>
                </div>
                <div class="option-card card-vertical" onclick="selectSingle('G√™nero', 'Mulher')">
                    <div class="gender-icon">üë©</div>
                    <div class="option-text"><strong>Mulher</strong></div>
                </div>
            </div>
        </div>

        <div class="step-content" id="step-3">
            <h1>Qual √© o seu objetivo principal?</h1>
            <p class="subtitle">Vamos adaptar o treino para o seu foco.</p>
            <div class="options-grid">
                <div class="option-card" onclick="selectSingle('Objetivo', 'Perder Peso')">
                    <div class="option-text"><strong>Perder Peso</strong><span>Secar e definir</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="selectSingle('Objetivo', 'Ganhar M√∫sculo')">
                    <div class="option-text"><strong>Ganhar M√∫sculo</strong><span>Hipertrofia e for√ßa</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="selectSingle('Objetivo', 'Ficar Definido')">
                    <div class="option-text"><strong>Ficar Definido</strong><span>Corpo atl√©tico</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
            </div>
        </div>

        <div class="step-content" id="step-4">
            <h1>Selecione seu tipo de corpo</h1>
            <p class="subtitle">Isso define o metabolismo do seu plano.</p>
            <div class="options-grid">
                <div class="option-card" onclick="selectSingle('Tipo de Corpo', 'Ectomorfo')">
                    <span class="body-type-icon">ü¶¥</span>
                    <div class="option-text"><strong>Ectomorfo</strong><span>Magro, dificuldade em ganhar peso</span></div>
                </div>
                <div class="option-card" onclick="selectSingle('Tipo de Corpo', 'Mesomorfo')">
                    <span class="body-type-icon">üí™</span>
                    <div class="option-text"><strong>Mesomorfo</strong><span>Atl√©tico, ganha m√∫sculo f√°cil</span></div>
                </div>
                <div class="option-card" onclick="selectSingle('Tipo de Corpo', 'Endomorfo')">
                    <span class="body-type-icon">ü•ö</span>
                    <div class="option-text"><strong>Endomorfo</strong><span>Largo, facilidade em ganhar peso</span></div>
                </div>
            </div>
        </div>

        <div class="step-content" id="step-5">
            <h1>Estime seu percentual de gordura</h1>
            <p class="subtitle">Escolha a imagem que mais se parece com voc√™ agora.</p>
            
            <div class="options-grid grid-2-col">
                <div class="option-card card-vertical" onclick="selectSingle('Gordura', '5-9%')">
                    <div class="body-figure">
                        <svg viewBox="0 0 100 200" preserveAspectRatio="xMidYMid meet">
                            <circle cx="50" cy="30" r="20" />
                            <path d="M20,60 L80,60 L75,150 L25,150 Z" style="transform-origin: center; transform: scaleX(0.7);" />
                        </svg>
                    </div>
                    <div class="option-text"><strong>5-9%</strong></div>
                </div>
                <div class="option-card card-vertical" onclick="selectSingle('Gordura', '10-14%')">
                    <div class="body-figure">
                        <svg viewBox="0 0 100 200"><circle cx="50" cy="30" r="20" /><path d="M20,60 L80,60 L75,150 L25,150 Z" style="transform-origin: center; transform: scaleX(0.85);" /></svg>
                    </div>
                    <div class="option-text"><strong>10-14%</strong></div>
                </div>
                <div class="option-card card-vertical" onclick="selectSingle('Gordura', '15-19%')">
                    <div class="body-figure">
                        <svg viewBox="0 0 100 200"><circle cx="50" cy="30" r="20" /><path d="M20,60 L80,60 L75,150 L25,150 Z" style="transform-origin: center; transform: scaleX(1.0);" /></svg>
                    </div>
                    <div class="option-text"><strong>15-19%</strong></div>
                </div>
                <div class="option-card card-vertical" onclick="selectSingle('Gordura', '20-24%')">
                    <div class="body-figure">
                        <svg viewBox="0 0 100 200"><circle cx="50" cy="30" r="20" /><path d="M20,60 L80,60 L85,150 L15,150 Z" style="transform-origin: center; transform: scaleX(1.15);" /></svg>
                    </div>
                    <div class="option-text"><strong>20-24%</strong></div>
                </div>
                <div class="option-card card-vertical" onclick="selectSingle('Gordura', '25-29%')">
                    <div class="body-figure">
                        <svg viewBox="0 0 100 200"><circle cx="50" cy="30" r="20" /><path d="M15,60 L85,60 L90,150 L10,150 Z" style="transform-origin: center; transform: scaleX(1.3);" /></svg>
                    </div>
                    <div class="option-text"><strong>25-29%</strong></div>
                </div>
                <div class="option-card card-vertical" onclick="selectSingle('Gordura', '30-34%')">
                    <div class="body-figure">
                        <svg viewBox="0 0 100 200"><circle cx="50" cy="30" r="20" /><path d="M10,60 L90,60 L95,150 L5,150 Z" style="transform-origin: center; transform: scaleX(1.5);" /></svg>
                    </div>
                    <div class="option-text"><strong>30-34%</strong></div>
                </div>
                <div class="option-card card-vertical" onclick="selectSingle('Gordura', '35-39%')">
                    <div class="body-figure">
                        <svg viewBox="0 0 100 200"><circle cx="50" cy="30" r="20" /><path d="M5,60 L95,60 L100,150 L0,150 Z" style="transform-origin: center; transform: scaleX(1.7);" /></svg>
                    </div>
                    <div class="option-text"><strong>35-39%</strong></div>
                </div>
                <div class="option-card card-vertical" onclick="selectSingle('Gordura', '>40%')">
                    <div class="body-figure">
                        <svg viewBox="0 0 100 200"><circle cx="50" cy="30" r="20" /><path d="M0,60 L100,60 L100,150 L0,150 Z" style="transform-origin: center; transform: scaleX(1.9);" /></svg>
                    </div>
                    <div class="option-text"><strong>> 40%</strong></div>
                </div>
            </div>
        </div>

        <div class="step-content" id="step-6">
            <h1>N√≠vel de Atividade F√≠sica</h1>
            <p class="subtitle">Quanto voc√™ se mexe durante o dia?</p>
            <div class="options-grid">
                <div class="option-card" onclick="selectSingle('Atividade', 'Sedent√°rio')">
                    <div class="option-text"><strong>Sedent√°rio</strong><span>Trabalho sentado, pouco exerc√≠cio</span></div>
                </div>
                <div class="option-card" onclick="selectSingle('Atividade', 'Levemente Ativo')">
                    <div class="option-text"><strong>Levemente Ativo</strong><span>Caminhadas ocasionais</span></div>
                </div>
                <div class="option-card" onclick="selectSingle('Atividade', 'Moderado')">
                    <div class="option-text"><strong>Moderado</strong><span>Treina 3-4x por semana</span></div>
                </div>
                <div class="option-card" onclick="selectSingle('Atividade', 'Muito Ativo')">
                    <div class="option-text"><strong>Muito Ativo</strong><span>Treina quase todo dia</span></div>
                </div>
            </div>
        </div>

        <div class="step-content" id="step-7">
            <h1>Regi√µes com dificuldade</h1>
            <p class="subtitle">Selecione <strong>todas</strong> as √°reas que voc√™ quer focar.</p>
            <div class="options-grid" id="options-step-7">
                <div class="option-card" onclick="toggleMulti(this, 'Peitoral')">
                    <div class="option-text"><strong>Peitoral</strong><span>Peito fraco ou pouco desenvolvido</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="toggleMulti(this, 'Abdomen')">
                    <div class="option-text"><strong>Abd√¥men</strong><span>Quero tanquinho / perder barriga</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="toggleMulti(this, 'Bracos')">
                    <div class="option-text"><strong>Bra√ßos</strong><span>B√≠ceps e Tr√≠ceps maiores</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="toggleMulti(this, 'Pernas')">
                    <div class="option-text"><strong>Pernas</strong><span>Coxas e Panturrilhas</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="toggleMulti(this, 'Costas')">
                    <div class="option-text"><strong>Costas/Ombros</strong><span>Postura e largura</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
            </div>
            <button class="btn-continue" onclick="validateMultiSelect()">CONTINUAR</button>
        </div>

        <div class="step-content" id="step-8">
            <h1>Suas Medidas</h1>
            <p class="subtitle">Para calcularmos suas macros e IMC.</p>
            
            <div class="input-group">
                <label>Qual sua altura?</label>
                <div class="input-wrapper">
                    <input type="number" placeholder="175" id="input-height">
                    <span>cm</span>
                </div>
            </div>

            <div class="input-group">
                <label>Qual seu peso atual?</label>
                <div class="input-wrapper">
                    <input type="number" placeholder="70" id="input-weight">
                    <span>kg</span>
                </div>
            </div>

            <button class="btn-continue" onclick="validateMeasurements()">CONTINUAR</button>
        </div>

        <div class="step-content" id="step-9">
            <h1>Quer acelerar os resultados?</h1>
            <p class="subtitle">Cardio ajuda a melhorar o condicionamento e queimar gordura.</p>
            <div class="options-grid">
                <div class="option-card" onclick="selectSingle('Cardio', 'Corrida')">
                    <div class="option-text"><strong>üèÉ‚Äç‚ôÇÔ∏è Adicionar Corrida</strong><span>Alta intensidade e resist√™ncia</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="selectSingle('Cardio', 'Caminhada')">
                    <div class="option-text"><strong>üö∂ Adicionar Caminhada</strong><span>Baixo impacto, constante</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
                <div class="option-card" onclick="selectSingle('Cardio', 'Apenas Muscula√ß√£o')">
                    <div class="option-text"><strong>‚ùå Apenas Muscula√ß√£o</strong><span>Focar apenas nos pesos</span></div>
                    <div class="arrow-icon">‚Ä∫</div>
                </div>
            </div>
        </div>

        <div class="step-content" id="step-10">
            <h1>Onde enviamos seu plano?</h1>
            <p class="subtitle">Insira seus dados para finalizar e receber o acesso.</p>
            
            <div class="input-group">
                <label>Seu Nome</label>
                <div class="input-wrapper">
                    <input type="text" id="input-name" placeholder="Ex: Jo√£o Silva">
                </div>
            </div>

            <div class="input-group">
                <label>Seu E-mail</label>
                <div class="input-wrapper">
                    <input type="email" id="input-email" placeholder="Ex: joao@gmail.com">
                </div>
            </div>

            <div class="input-group">
                <label>WhatsApp (Opcional)</label>
                <div class="input-wrapper">
                    <input type="tel" id="input-whatsapp" placeholder="Ex: (11) 99999-9999">
                </div>
            </div>

            <button class="btn-continue" onclick="validateContactInfo()">VER MEU PLANO</button>
            
            <div style="text-align:center; margin-top:15px; font-size:12px; color:#888;">
                üîí Seus dados est√£o 100% seguros.
            </div>
        </div>

        <div class="step-content" id="step-final">
            <div style="text-align:center; padding-top: 50px;">
                <div style="font-size: 50px; margin-bottom: 20px;">‚ö°</div>
                <h1>Montando seu Plano...</h1>
                <p class="subtitle">Estamos preparando tudo para voc√™!</p>
                <div style="margin-top:20px; color: var(--primary-color); font-weight:bold;">Aguarde...</div>
            </div>
        </div>

    </main>

    <script>
        // SEU LINK DO FORMSPREE
        const FORMSPREE_ENDPOINT = 'https://formspree.io/f/mjgekdyj';
        // SEU LINK DE PAGAMENTO
        const PAYMENT_URL = 'https://pay.cakto.com.br/j6p9sxq_739590';

        // CONTROLE
        let currentStep = 1;
        const totalSteps = 10; // Agora s√£o 10 passos
        
        // OBJETO PARA GUARDAR AS RESPOSTAS
        let userAnswers = {
            "Idade": "",
            "G√™nero": "",
            "Objetivo": "",
            "Tipo de Corpo": "",
            "Gordura": "",
            "Atividade": "",
            "Regi√µes Dificuldade": [], 
            "Altura": "",
            "Peso": "",
            "Cardio": "",
            "Nome": "",     // Novo
            "Email": "",     // Novo
            "WhatsApp": ""   // Novo
        };

        function updateUI() {
            document.querySelectorAll('.step-content').forEach(el => el.classList.remove('active'));
            
            if(currentStep <= totalSteps) {
                document.getElementById(`step-${currentStep}`).classList.add('active');
            } else {
                document.getElementById('step-final').classList.add('active');
            }

            const percentage = (currentStep / totalSteps) * 100;
            document.getElementById('progress-bar').style.width = `${percentage}%`;
            document.getElementById('current-step-num').innerText = Math.min(currentStep, totalSteps);

            const backBtn = document.querySelector('.back-btn');
            if (currentStep === 1) {
                backBtn.style.visibility = 'hidden';
            } else {
                backBtn.style.visibility = 'visible';
            }
        }

        function nextStep() {
            if (currentStep < totalSteps + 1) {
                currentStep++;
                updateUI();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                updateUI();
            }
        }

        // Fun√ß√£o Gen√©rica para escolha √∫nica
        function selectSingle(field, value) {
            userAnswers[field] = value;
            console.log(`Salvo: ${field} = ${value}`);
            nextStep();
        }

        // Fun√ß√µes para escolha m√∫ltipla (Passo 7)
        function toggleMulti(element, value) {
            element.classList.toggle('selected');
            const index = userAnswers["Regi√µes Dificuldade"].indexOf(value);
            if (index === -1) {
                userAnswers["Regi√µes Dificuldade"].push(value);
            } else {
                userAnswers["Regi√µes Dificuldade"].splice(index, 1);
            }
        }

        function validateMultiSelect() {
            if (userAnswers["Regi√µes Dificuldade"].length === 0) {
                alert("Por favor, selecione pelo menos uma regi√£o.");
                return;
            }
            nextStep();
        }

        // Fun√ß√µes para Inputs de Medidas (Passo 8)
        function validateMeasurements() {
            const height = document.getElementById('input-height').value;
            const weight = document.getElementById('input-weight').value;

            if (!height || !weight) {
                alert("Por favor, preencha altura e peso para continuar.");
                return;
            }
            userAnswers["Altura"] = height + " cm";
            userAnswers["Peso"] = weight + " kg";
            nextStep();
        }

        // --- VALIDA√á√ÉO DO PASSO 10 (CONTATO) ---
        function validateContactInfo() {
            const name = document.getElementById('input-name').value;
            const email = document.getElementById('input-email').value;
            const whatsapp = document.getElementById('input-whatsapp').value;

            // Valida√ß√£o simples
            if (!name || !email || !email.includes('@')) {
                alert("Por favor, preencha seu nome e um e-mail v√°lido.");
                return;
            }

            // Salva os dados
            userAnswers["Nome"] = name;
            userAnswers["Email"] = email;
            userAnswers["WhatsApp"] = whatsapp || "N√£o informado";

            // Envia o formul√°rio
            submitForm();
        }

        // ENVIO DO FORMUL√ÅRIO E REDIRECIONAMENTO
        function submitForm() {
            // Mostra tela final de carregamento
            currentStep++;
            updateUI();

            // Envia para o Formspree
            fetch(FORMSPREE_ENDPOINT, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(userAnswers)
            })
            .then(response => {
                // Redireciona independente da resposta
                setTimeout(() => {
                    window.location.href = PAYMENT_URL;
                }, 2000);
            })
            .catch(error => {
                console.error('Erro no envio:', error);
                // Fallback: Redireciona mesmo com erro
                setTimeout(() => {
                    window.location.href = PAYMENT_URL;
                }, 2000);
            });
        }

        updateUI();
    </script>
</body>
</html>
